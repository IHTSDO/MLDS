<div class="row">
	<div class="col-md-12">
		<div class="page-header">
			<h1>Pending Applications</h1>
			
			<div>
				<span>Show: </span>
				<select ng-model="showAllApplications">
					<option value="0" selected="selected">My Pending Applications</option>
					<option value="1">All Applications</option>
				</select>
			</div>
		</div>
		
		<div class="table-responsive">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th><a ng-click="orderByField='submittedAt'; reverseSort = !reverseSort">Date Submitted <span ng-show="orderByField == 'submittedAt'"><span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span><span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span></span></a></th>
						<th><a ng-click="orderByField='approvalState'; reverseSort = !reverseSort">Status <span ng-show="orderByField == 'approvalState'"><span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span><span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span></span></a></th>
						<th><a ng-click="orderByField='applicationType'; reverseSort = !reverseSort">Type <span ng-show="orderByField == 'applicationType'"><span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span><span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span></span></a></th>
						<th>Assigned Member</th>
						<th>Affiliate Name</th>
						<th>Home Country</th>
						<th>Use Type</th>
						<th>Agreement Type</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="application in applications | filter:applicationSearch | orderBy:orderByField:reverseSort" ng-switch="application.applicationType">
									
					<td>{{application.submittedAt | date}}</td>
					<td>{{application.approvalState | enum:'approval.state.'}}</td>
					<td>{{application.applicationType | enum:'application.applicationType.'}}</td>
					
					<td>{{application.member.key | enum:'global.member.'}}</td>
					<td>{{application.affiliateDetails.organizationName ? application.affiliateDetails.organizationName : application.affiliateDetails.firstName + ' '+application.affiliateDetails.lastName}}</td>
					<td>{{application.affiliateDetails.address.country.commonName}}</td>
					<td ng-switch-when="PRIMARY">{{application.type | enum:'affiliate.type.'}} - {{application.subType | enum:'affiliate.subType.'}}</td>
					<td ng-switch-when="PRIMARY">{{application.commercialUsage.context.agreementType | enum:'affiliate.agreementType.'}}</td>
					
					<td ng-switch-when="EXTENSION">{{application.affiliate.type | enum:'affiliate.type.'}}</td>
					<td ng-switch-when="EXTENSION">{{application.affiliate.commercialUsages[0].context.agreementType | enum:'affiliate.agreementType.'}}</td>
					
					<td> <a class="btn btn-primary btn-sm" ng-click="goToApplication(application)"><i class="fa fa-pencil"></i> Review</a></td>
				</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
