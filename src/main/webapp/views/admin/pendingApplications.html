<div class="row">
	<div class="col-md-12">
		<div class="page-header">
			<h2 translate="pendingApplications.title">Pending Applications</h2>
			<div ng-show="isAdmin">
				<span>Show: </span>
				<select ng-model="showAllApplications">
					<option value="0" selected="selected" translate="pendingApplications.show.myApplications">My Pending Applications</option>
					<option value="1" translate="pendingApplications.show.allApplications">All Applications</option>
				</select>
			</div>
		</div>
		
		<div class="table-responsive">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th translate="pendingApplications.table.affiliateName">Affiliate Name</th>
						<th>
							<a ng-click="orderByField='applicationType'; reverseSort = !reverseSort">
								<span translate="pendingApplications.table.applicationType">Application Type</span>
								<span ng-show="orderByField == 'applicationType'">
									<span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span>
									<span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span>
								</span>
							</a>
						</th>
						<th translate="pendingApplications.table.agreementType">Agreement Type</th>
						<th translate="pendingApplications.table.usageType">Use Type</th>
						<th width="100px">
							<a ng-click="orderByField='submittedAt'; reverseSort = !reverseSort">
								<span translate="pendingApplications.table.dateSubmitted">Date Submitted </span>
								<span ng-show="orderByField == 'submittedAt'"><span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span><span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span></span>
							</a>
						</th>
						<th>
							<a ng-click="orderByField='approvalState'; reverseSort = !reverseSort">
								<span translate="pendingApplications.table.status">Status </span>
								<span ng-show="orderByField == 'approvalState'"><span ng-show="!reverseSort"><i class="fa fa-sort-asc"></i></span><span ng-show="reverseSort"><i class="fa fa-sort-desc"></i></span></span>
							</a>
						</th>
						<th translate="pendingApplications.table.homeCountry">Home Country</th>
						<th translate="pendingApplications.table.member">Member</th>
						<th translate="pendingApplications.table.email">Email</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="application in applications | filter:applicationSearch | orderBy:orderByField:reverseSort" ng-switch="application.applicationType" ng-click="goToApplication(application)">
									
					<td>{{application.affiliateDetails.organizationName ? application.affiliateDetails.organizationName : application.affiliateDetails.firstName + ' '+application.affiliateDetails.lastName}}</td>
					<td>{{application.applicationType | enum:'application.applicationType.'}}</td>
					<td ng-switch-when="PRIMARY">{{application.affiliateDetails.agreementType | enum:'affiliate.agreementType.'}}</td>
					<td ng-switch-when="EXTENSION">{{application.affiliate.affiliateDetails.agreementType | enum:'affiliate.agreementType.'}}</td>
					<td ng-switch-when="PRIMARY">{{application.type | enum:'affiliate.type.'}} - {{application.subType | enum:'affiliate.subType.'}}</td>
					<td ng-switch-when="EXTENSION">{{application.affiliate.type | enum:'affiliate.type.'}}</td>
					
					<td>{{application.submittedAt | date: 'yyyy-MM-dd'}}</td>
					<td>{{application.approvalState | enum:'approval.state.'}}</td>
					
					<td>{{application.affiliateDetails.address.country.commonName}}</td>
					<td>{{application.member.key | enum:'global.member.'}}</td>
					<td><a href="mailto:{{affiliate.affiliateDetails.email}}">{{application.affiliateDetails.email}}</a></td>
					
					
					<td>
						<a class="btn btn-primary btn-sm" ><i class="fa fa-pencil"></i> 
							<span translate="pendingApplications.table.review">Review</span>
						</a>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
