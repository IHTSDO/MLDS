<div class="row">
	<div class="col-md-12">
		<div class="page-header">
			<h2>Affiliate User Management</h2>
			<button class="btn btn-primary" ng-model="showAllAffiliates" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0" ng-disabled="!affiliates.$resolved">Show all affiliates</button>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		  <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
	
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>Name</th>
						<th>Application Status</th>
						<th>Type</th>
						<th>Home Country</th>
						<th>Member</th>
						<th>Email</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="affiliate in affiliates | filter: affiliatesFilter">
					<td>{{affiliateActiveDetails(affiliate).organizationName ? affiliateActiveDetails(affiliate).organizationName : affiliateActiveDetails(affiliate).firstName + ' '+affiliateActiveDetails(affiliate).lastName}}</td>
					<td>{{'approval.state.'+affiliate.application.approvalState | translate}}</td>
					<td>{{'affiliate.type.'+affiliate.application.type | translate}} - {{'affiliate.subType.'+affiliate.application.subType | translate}}</td>
					<td>{{affiliateActiveDetails(affiliate).address.country.commonName}}</td>
					<td>{{affiliate.homeMember.key}}</td>
					<td><a href="mailto:{{affiliate.affiliateDetails.email}}">{{affiliateActiveDetails(affiliate).email}}</a></td>
					<td> <a class="btn btn-primary btn-sm" ng-click="viewApplication(affiliate.application)"><i class="fa fa-eye"></i> Application</a></td>
				</tr>
				</tbody>
			</table>

	</div>
</div>