  <div class="row" ng-hide="usageReportsUtils.anySubmittedUsageReports(affiliate) || affiliate.application.approvalState === 'REJECTED'">
    <div class="col-sm-12">
      <div class="alert alert-danger space" role="alert">
        <div><strong>Usage Declaration Required</strong></div>
        <p>You have not submitted a usage declaration. To complete your affiliate registration, please submit a usage declaration by selecting an existing or creating a new usage declaration from the Usage Reports module below.</p>
      </div>
    </div>
  </div>

  <div class="row space" ng-show="affiliate.application.approvalState === 'CHANGE_REQUESTED'">
    <div class="col-sm-12">
      <div class="alert alert-warning" role="alert">
        <div><strong>Affiliate Registration Requires Change</strong></div>
        <p>Your affiliate registration needs to be updated before it can processed. Please see email regarding the necessary changes to complete your registration.</p>
      </div>
    </div>
  </div>

  <div class="row" ng-show="standingStateUtils.isRejected(affiliate.standingState)">
    <div class="col-sm-12">
      <div class="alert alert-danger" role="alert">
        <div><strong>Affiliate Registration Declined</strong></div>
        <p>Your affiliate registration has been declined. Please see email regarding the details of the decision.</p>
      </div>
    </div>
  </div>

  <div class="row" ng-show="standingStateUtils.isDeactivated(affiliate.standingState)">
    <div class="col-sm-12">
      <div class="alert alert-danger space" role="alert">
        <div><strong>Account Deactivated</strong></div>
        <p>Your account has been Deactivated. Release package downloads and Extension applications have been suspended. Please contact <a href="mailto:mlds@ihtsdo.org">mlds@ihtsdo.org</a>. to resolve the issue.</p>
      </div>
    </div>
  </div>

  <div class="row" ng-show="standingStateUtils.isDeactivationPending(affiliate.standingState)">
    <div class="col-sm-12">
      <div class="alert alert-danger space" role="alert">
        <div><strong>Account Deactivation Pending</strong></div>
        <p>Your account is scheduled to be Deactivated.  Please contact <a href="mailto:mlds@ihtsdo.org">mlds@ihtsdo.org</a>. to resolve the issue.</p>
      </div>
    </div>
  </div>

<div class="row" ng-show="standingStateUtils.isDeregistrationPending(affiliate.standingState)">
    <div class="col-sm-12">
      <div class="alert alert-danger space" role="alert">
        <div><strong>Account Deregistration Pending</strong></div>
        <p>Your account is scheduled to be Deregistered.  Please contact <a href="mailto:mlds@ihtsdo.org">mlds@ihtsdo.org</a>. to resolve the issue.</p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
     <div class="page-header">
      <h1>Welcome {{firstName}} {{lastName}}</h1> 
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-4"
  	ng-controller="UsageReportsTableController" ng-include="'views/usageReportsTable.html'" ng-init="setShowAllColumns(false); setShowViewAll(true)">
  </div>
  <div class="col-lg-4">

<div class="panel panel-default dashboard">
  <div class="panel-heading">
    <h3 class="panel-title">Applications</h3>
  </div>
  <div class="table-responsive user-dashboard-item">
    <table class="table table-striped">
      <thead> 
        <tr>
          <th>Type</th>
          <th>Date</th>
          <th>Status</th>
          <th>View</th>
        </tr>
      </thead>
      <tbody> 
        <tr ng-repeat="application in affiliate.applications | orderBy: [orderByApprovalState, orderByApplicationType]">
          <td>{{application.applicationType | enum:'application.applicationType.'}}</td>
          <td>{{(application.completedAt || application.submittedAt) | date:'shortDate' }}</td>
          <td ng-class="{'text-warning':isApplicationPending(application), 'text-danger':isApplicationWaitingForApplicant(application)}">
         		<strong>{{application.approvalState | enum:'approval.state.'}}</strong>
          </td>
          <td>
          	<span ng-if="application.applicationType === 'EXTENSION'">
          		<a ng-if="isApplicationWaitingForApplicant(application)" href="#/extensionApplication/{{application.applicationId}}" class="btn-warning btn-sm">
          			<i class="fa fa-edit"></i> Edit
          		</a>
          		<a ng-if="!isApplicationWaitingForApplicant(application)"ng-click="viewApplication(application)" class="btn-primary btn-sm">
          			<i class="fa fa-eye"></i> View
          		</a>
          	</span>
						<a class="btn-link"
							ng-click="viewApplication(application)" ng-if="application.applicationType === 'PRIMARY'">
								<i class="fa fa-eye"></i> View
						</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
  <div class="col-lg-4">
    <div class="panel panel-default dashboard">
  <div class="panel-heading">
    <h3 class="panel-title">Account Information</h3>
       <a ng-show="isApplicationWaitingForApplicant(affiliate.application)" class="btn btn-default" href="#/affiliateRegistration">Edit Affiliate Application</a>
  </div>
  <div class="panel-body">
	<ul class="list-group" >
		<li class="list-group-item"><strong>Affiliate No:</strong> {{affiliate.affiliateId}}</li>
		<li class="list-group-item" ng-show="standingStateUtils.wasApproved(affiliate.standingState)">
			<strong>Type:</strong> {{affiliate.affiliateDetails.type | enum:'affiliate.type.'}}
		</li>
		<li class="list-group-item" ng-show="standingStateUtils.wasApproved(affiliate.standingState)">
			<strong>Subtype:</strong> {{affiliate.affiliateDetails.subType | enum:'affiliate.subType.'}}
			<span ng-show="affiliate.affiliateDetails.type == 'OTHER'">{{affiliate.affiliateDetails.otherText}}</span>
		</li>
		<li class="list-group-item" ng-show="standingStateUtils.wasApproved(affiliate.standingState)">
			<strong>Agreement Type:</strong> {{affiliate.affiliateDetails.agreementType |  enum:'affiliate.agreementType.'}}
		</li>
	</ul>
    <span class="alert alert-success btn-block" ng-show="standingStateUtils.isSuccessCategory(affiliate.standingState)">
      <strong>Account Standing:</strong> {{affiliate.standingState | enum:'affiliate.standingState.'}}</span>
    <span class="alert alert-warning btn-block" ng-show="standingStateUtils.isWarningCategory(affiliate.standingState)">
      <strong>Account Standing:</strong> {{affiliate.standingState | enum:'affiliate.standingState.'}}</span>
    <span class="alert alert-danger btn-block" ng-show="standingStateUtils.isDangerCategory(affiliate.standingState)">
      <strong>Account Standing:</strong> {{affiliate.standingState | enum:'affiliate.standingState.'}}</span>
  </div>
</div>

</div>

</div>


<div class="row">
  <div class="col-lg-12">
	  <div class="page-header">
	    <h1>
	     My Release Packages <a href="#/viewReleases"class="btn btn-link">View All <i class="fa fa-angle-double-right"></i></a>
	   </h1> 
	 </div>
	</div>
</div>

<div class="row" ng-repeat="memberReleases in approvedReleasePackagesByMember | orderBy: releasePackageOrderBy">
	 <div class="col-lg-12">
	  <h3>{{memberReleases.packages[0].member.key | enum:'global.member.'}} <button class="btn-sm btn-link" ng-click="viewLicence(memberReleases.packages[0].member.key)">View Licence</button></h3>
	</div>
	<div class="col-md-4" ng-repeat="releasePackage in memberReleases.packages | orderBy:packageUtils.getLatestPublishedDate:true | filter: packageUtils.isPackagePublished">
		<div class="well dashboard-well package" ng-repeat="releaseVersion in releasePackage.releaseVersions" ng-show="packageUtils.isVersionOnline(releaseVersion) && packageUtils.isLatestVersion(releaseVersion, releasePackage.releaseVersions)">
		    <h3 ng-click="goToViewPackagePage(releasePackage.releasePackageId)">{{releasePackage.name}}  </h3>
		    <p>Current: {{releaseVersion.publishedAt | date:'longDate'}}</p>
		    <p ng-repeat="releaseFile in releaseVersion.releaseFiles | orderBy: 'label'">
		 		<i class="fa fa-file"></i>  <a class="btn btn-link" href="{{releaseFile.clientDownloadUrl}}">{{releaseFile.label}}</a>
		 	</p>
		</div>
	</div>
</div>

<div class="row" ng-show="notApprovedReleasePackagesByMember" ng-show="notApprovedReleasePackagesByMember">
	 <div class="col-lg-12">
	 	<h3>Other Available Releases</h3>
	 </div>
	<div ng-repeat="memberReleases in notApprovedReleasePackagesByMember | orderBy: releasePackageOrderBy">
		<a href="#/viewReleases"class="btn btn-link">{{memberReleases.packages[0].member.key | enum:'global.member.'}}</a>
	</div>
</div>
